{"version":3,"sources":["images/header/logo.svg","images/popup/success.svg","images/popup/failure.svg","utils/routesMap.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/Api.js","utils/constant.js","components/AddPlacePopup.js","components/VerificationPopup.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/Entry.js","components/Register.js","components/Login.js","utils/author.js","components/App.js","index.js"],"names":["module","exports","ROUTES_MAP","Header","props","path","exact","className","src","headerLogo","alt","to","email","onClick","exit","localStorage","setItem","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","find","id","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","key","onCardClick","Footer","ImagePopup","onClose","open","isOpen","PopupWithForm","title","noValidate","onSubmit","children","button_text","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","target","reset","placeholder","maxLength","minLength","value","onChange","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","api","serverUrl","this","_serverUrl","url","params","fetch","then","res","ok","json","Promise","reject","status","jwt","_fetch","method","headers","authorization","info","body","JSON","stringify","cardId","AddPlacePopup","setLink","VerificationPopup","onDeleteCard","ProtectedRoute","Component","component","loggedIn","InfoTooltip","loged","success","failure","Entry","buttonName","text","linkText","setEmail","password","setPassword","Register","onRegister","Login","onLogin","author","token","Authorization","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isVerificationPopupOpen","setVerificationPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","iconPopup","setIconPopup","isInfoTooltipOpen","setInfoTooltipOpen","history","useHistory","getItem","getToken","push","catch","err","console","log","getUserInfo","userInfo","getInitialCards","handleEsc","closeAllPopups","overlayClose","classList","contains","setEventListeners","document","addEventListener","removeEventListener","Provider","login","register","some","changeLikeCardStatus","newCard","newCards","c","data","setUserInfo","finally","setUserAvatar","createCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2c9a7e35.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4e5bdbab.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/failure.4072126c.svg\";","export const ROUTES_MAP ={\n    MAIN: '/',\n    SIGN_UP: '/sign-up',\n    SIGN_IN: '/sign-in',\n    NOT_FOUND: '/404'\n};","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport headerLogo from '../images/header/logo.svg';\nimport { ROUTES_MAP } from '../utils/routesMap';\nfunction Header(props) {\n  const exit = () => {\n    props.exit();\n    localStorage.setItem('jwt', '');\n  }\n  return <Switch>\n    <Route path='/404' exact/>\n    <Route path='*'>\n      <header className='header'>\n        <img className='header__logo' src={headerLogo} alt='Место Россия' />\n      <Switch>\n        <Route path='/sign-up'>\n          <Link className='header__button' to={ROUTES_MAP.SIGN_IN}>Войти</Link>\n        </Route>\n        <Route path='/sign-in'>\n          <Link className='header__button' to={ROUTES_MAP.SIGN_UP}>Регистрация</Link>\n        </Route>\n        <Route path='/' exact>\n          <div className='header__user'>\n          <p className='header__email'>{props.email}</p>\n          <Link className='header__button' to={ROUTES_MAP.SIGN_IN} onClick={exit}>Выйти</Link>\n          </div>\n        </Route>\n      </Switch>\n      </header>\n    </Route>\n  </Switch>\n}\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner === currentUser._id;\n  const isLiked = card.likes.find((id) => id === currentUser._id);\n  const cardDeleteButtonClassName = `card__btn-delete ${\n    isOwn ? \"\" : \"card__btn-delete_invis\"\n  }`;\n  const cardLikeButtonClassName = `card__btn-like ${\n    isLiked ? \"card__btn-like_active\" : \"\"\n  }`;\n  function handleClick() {\n    onClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDelete() {\n    onCardDelete(card);\n  }\n  return (\n    <li className=\"card\">\n      <img\n        className=\"card__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDelete}\n      />\n      <div className=\"card__text\">\n        <p className=\"card__title\">{card.name}</p>\n        <div className=\"card__like\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <p className=\"card__number-likes\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <button\n            className=\"profile__btn profile__btn_avatar\"\n            onClick={props.onEditAvatar}\n          >\n            <img\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n              alt=\"Аватар пользователя\"\n            />\n          </button>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__btn profile__btn_edit\"\n              onClick={props.onEditProfile}\n            ></button>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"profile__btn profile__btn_add\"\n            onClick={props.onAddPlace}\n          ></button>\n        </section>\n        <section className=\"place\">\n          <ul className=\"place__list\">\n            {props.cards.map((card) => (\n              <Card\n                card={card}\n                key={card._id}\n                onClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n}\nexport default Main;\n","import React from \"react\";\nimport { Route, Switch } from 'react-router-dom';\nfunction Footer() {\n  return <Switch>\n    <Route path='/404' exact/>\n    <Route path='*'>\n      <footer className=\"footer\">\n        <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\n      </footer>\n    </Route>\n  </Switch>\n}\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose, isOpen }) {\n  const open = isOpen && \"popup_opened\";\n  function handleClickClose() {\n    onClose();\n  }\n  return (\n    <div className={`popup popup_type_photo ${open}`}>\n      <div className=\"popup__container_photo\">\n        <img\n          className=\"popup__picture\"\n          src={card ? card.link : \"#\"}\n          alt={card ? card.name : \"\"}\n        />\n        <h3 className=\"popup__caption\">{card ? card.name : \"\"}</h3>\n        <button\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={handleClickClose}\n        />\n      </div>\n    </div>\n  );\n}\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className={`popup__container popup__container_${props.name}`}>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form\n          className=\"popup__form\"\n          name={props.name}\n          noValidate\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          <button type=\"submit\" className=\"popup__button\">\n            {props.button_text}\n          </button>\n        </form>\n        <button\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={props.onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n    e.target.reset();\n  };\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      button_text=\"Сохранить\"\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Имя\"\n          className=\"popup__input popup__input_name\"\n          maxLength=\"40\"\n          minLength=\"2\"\n          id=\"name\"\n          value={name || \"\"}\n          onChange={handleNameChange}\n          required\n        />\n        <span className=\"popup__error\" id=\"name-error\" />\n      </label>\n      <label className=\"popup__field\">\n        <input\n          name=\"job\"\n          type=\"text\"\n          placeholder=\"О себе\"\n          className=\"popup__input popup__input_job\"\n          maxLength=\"200\"\n          minLength=\"2\"\n          id=\"job\"\n          value={description || \"\"}\n          onChange={handleDescriptionChange}\n          required\n        />\n\n        <span className=\"popup__error\" id=\"job-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateAvatar(avatarRef.current.value);\n    e.target.reset();\n  };\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      button_text=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          name=\"avatar\"\n          type=\"url\"\n          placeholder=\"Ссылка на новый аватар\"\n          className=\"popup__input\"\n          id=\"avatar\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__error\" id=\"avatar-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;\n","import { API_URL } from './constant';\n\nclass Api {\n  constructor({ serverUrl }) {\n    this._serverUrl = serverUrl;\n  }\n\n  _fetch(url, params) {\n    return fetch(this._serverUrl + url, params).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n  getUserInfo(jwt) {\n    return this._fetch('/users/me', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${jwt}`,\n      },\n    });\n  }\n  //редактирование информации профиля\n  setUserInfo(info, jwt) {\n    return this._fetch('/users/me', {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: info.name,\n        about: info.about,\n      }),\n    });\n  }\n  //редактирование информации профиля\n  setUserAvatar(info, jwt) {\n    return this._fetch('/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar: info,\n      }),\n    });\n  }\n  //добавление карточки\n  getInitialCards(jwt) {\n    return this._fetch('/cards', {\n      method: 'GET',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n      },\n    });\n  }\n  createCard(info, jwt) {\n    return this._fetch('/cards', {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: info.name,\n        link: info.link,\n      }),\n    });\n  }\n  //удаление карточки\n  deleteCard(cardId, jwt) {\n    return this._fetch(`/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n  //  Реализация лайка\n  createLike(cardId, jwt) {\n    return this._fetch(`/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n  deleteLike(cardId, jwt) {\n    return this._fetch(`/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n  changeLikeCardStatus(cardId, isLiked, jwt) {\n    return this._fetch(`/cards/likes/${cardId}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n}\n\n// const api = new Api({\n//   serverUrl: \"http://localhost:3000\",\n// });\nconst api = new Api({\n  serverUrl: API_URL,\n});\nexport default api;\n","// export const API_URL = 'https://api.rtxmobidikt.students.nomoreparties.co';\nexport const API_URL = 'http://localhost:3000';\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n  const handleLinkChange = (e) => {\n    setLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"Новое место\"\n      button_text=\"Создать\"\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Название\"\n          className=\"popup__input popup__input_mesto\"\n          maxLength=\"30\"\n          minLength=\"1\"\n          id=\"mesto\"\n          required\n          value={name}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__error\" id=\"mesto-error\" />\n      </label>\n      <label className=\"popup__field\">\n        <input\n          name=\"src\"\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          className=\"popup__input popup__input_src\"\n          id=\"src\"\n          required\n          value={link}\n          onChange={handleLinkChange}\n        />\n        <span className=\"popup__error\" id=\"src-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction VerificationPopup({ card, isOpen, onClose, onDeleteCard }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onDeleteCard(card);\n  };\n  return (\n    <PopupWithForm\n      name=\"verification\"\n      title=\"Вы уверены?\"\n      button_text=\"ДА\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\nexport default VerificationPopup;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-up' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport success from '../images/popup/success.svg';\nimport failure from '../images/popup/failure.svg';\n\nfunction InfoTooltip({isOpen, onClose, loged}) {\n  const open = isOpen && \"popup_opened\";\n  const handleClickClose = () => {\n    onClose();\n  }\n  return (\n    <div\n      className={`popup popup_type_info ${open}`}\n    >\n      <div className={`popup__container popup__container_info`}>\n        <img className='popup__image' src={loged ? success : failure} alt='Ответ от сервера'/>\n        <h3 className=\"popup__title popup__title_login\">{loged? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h3>\n        <button\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={handleClickClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import React, { useState} from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Entry ({title, link, buttonName, text, linkText, onSubmit}){\nconst [email, setEmail] = useState('');\nconst [password, setPassword] = useState('');\nconst handleEmailChange = (e) => {\n    setEmail(e.target.value);\n};\n\nconst handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n};\nconst submitForm = () => {\n    onSubmit(password, email);\n}\nreturn (\n    <form\n          className='entry'\n          noValidate\n        >\n        <h2 className='entry__title'>{title}</h2>\n          <label className=\"entry__field\">\n        <input\n          name=\"email\"\n          type='email'\n          placeholder=\"Email\"\n          className=\"entry__input entry__input_email\"\n          maxLength=\"40\"\n          minLength=\"2\"\n          id=\"email\"\n          value={email}\n          onChange={handleEmailChange}\n          required\n        />\n        <span className=\"entry__error\" id=\"email-error\" />\n      </label> \n      <label className=\"entry__field\">\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          className=\"entry__input entry__input_name\"\n          maxLength=\"40\"\n          minLength=\"2\"\n          id=\"password\"\n          value={password}\n          onChange={handlePasswordChange}\n          required\n        />\n        <span className=\"entry__error\" id=\"password-error\" />\n      </label>\n        <button type='button' className='entry__button' onClick={submitForm}>{buttonName}</button> \n        <p className='entry__text'>{text}<Link className='link' to={link}>{linkText}</Link></p>\n        </form>);\n}\nexport default Entry;","import React from 'react';\nimport Entry from './Entry';\nimport {ROUTES_MAP} from '../utils/routesMap';\n\nfunction Register({onRegister}) {\n  const submitForm = (password, email) => {\n    onRegister(password, email);\n  }\n\nreturn(\n  <Entry\n    title = 'Регистрация'\n    buttonName= 'Зарегистрироваться'\n    text='Уже зарегистрированы? '\n    link = {ROUTES_MAP.SIGN_IN}\n    linkText = 'Войти'\n    onSubmit = {submitForm}\n  />);\n};\n\nexport default Register;","import React from 'react';\nimport Entry from './Entry';\nimport {ROUTES_MAP} from '../utils/routesMap';\n\nfunction Login ({onLogin}) {\n    const submitForm = (password, email) => {\n    onLogin(password, email);\n  }\n    return(<Entry\n        title = 'Вход'\n        buttonName= 'Войти'\n        text='Ещё не зарегистрированы? '\n        link = {ROUTES_MAP.SIGN_UP}\n        linkText = 'Зарегистрироваться'\n        onSubmit = {submitForm}\n    />);\n    };\nexport default Login;","import { API_URL } from './constant';\n\nclass Author {\n  constructor({ serverUrl }) {\n    this._serverUrl = serverUrl;\n  }\n\n  _fetch(url, params) {\n    return fetch(this._serverUrl + url, params).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(res.status);\n    });\n  }\n  getToken(token) {\n    return this._fetch('/users/me', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n  }\n  login(password, email) {\n    return this._fetch('/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ password, email }),\n    });\n  }\n  register(password, email) {\n    return this._fetch('/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ password, email }),\n    });\n  }\n}\nconst author = new Author({\n  serverUrl: API_URL,\n});\nexport default author;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, Switch, Route, Redirect } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport AddPlacePopup from './AddPlacePopup';\nimport VerificationPopup from './VerificationPopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport Register from './Register';\nimport Login from './Login';\nimport { ROUTES_MAP } from '../utils/routesMap';\nimport author from '../utils/author';\nimport NotFound from './NotFound';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isVerificationPopupOpen, setVerificationPopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState('');\n  const [cards, setCards] = useState([]);\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [iconPopup, setIconPopup] = useState(true);\n  const [email, setEmail] = useState('');\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      author\n        .getToken(jwt)\n        .then((res) => {\n          setCurrentUser(res);\n          setLoggedIn(true);\n          setEmail(res.email);\n          history.push('/');\n        })\n        .catch((err) => {\n          if (err === 401) {\n            console.log('Переданный токен некорректен');\n          } else {\n            console.log(`Ошибка: ${err}`);\n          }\n        });\n    }\n  }, [loggedIn, history]);\n  useEffect(() => {\n    if (loggedIn) {\n      const jwt = localStorage.getItem('jwt');\n      api\n        .getUserInfo(jwt)\n        .then((userInfo) => {\n          setCurrentUser(userInfo);\n        })\n        .catch((err) => {\n          console.log(`Данные о пользователе не получены. ${err}`);\n        });\n    }\n  }, [loggedIn]);\n  const handleCardLike = (card) => {\n    const jwt = localStorage.getItem('jwt');\n    const isLiked = card.likes.some((id) => id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked, jwt)\n      .then((newCard) => {\n        const newCards = cards.map((c) =>\n          c._id === card._id ? newCard.data : c,\n        );\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка инициализации лайка. ${err}`);\n      });\n  };\n  const handleCardDelete = (card) => {\n    const jwt = localStorage.getItem('jwt');\n    api\n      .deleteCard(card._id, jwt)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Удаление карточки не выполнено. ${err}`);\n      });\n  };\n  const handleAddPlaceSubmit = (card) => {\n    const jwt = localStorage.getItem('jwt');\n    api\n      .createCard(card, jwt)\n      .then((res) => {\n        const newCard = res;\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка добавления карточки. ${err}`);\n      })\n      .finally(() => {});\n  };\n  useEffect(() => {\n    if (loggedIn) {\n      const jwt = localStorage.getItem('jwt');\n      api\n        .getInitialCards(jwt)\n        .then((card) => {\n          setCards(card);\n        })\n        .catch((err) => {\n          console.log(`Данные карточек не получены. ${err}`);\n        });\n    }\n  }, [loggedIn]);\n\n  const handleUpdateUser = (info) => {\n    const jwt = localStorage.getItem('jwt');\n    api\n      .setUserInfo(info, jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка обновления данных пользователя. ${err}`);\n      })\n      .finally(() => {});\n  };\n  const handleUpdateAvatar = (avatar) => {\n    const jwt = localStorage.getItem('jwt');\n    api\n      .setUserAvatar(avatar, jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка обновления аватара. ${err}`);\n      })\n      .finally(() => {});\n  };\n  const handleEsc = (e) => {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  };\n  const overlayClose = (e) => {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  };\n  const setEventListeners = () => {\n    document.addEventListener('keydown', handleEsc);\n    document.addEventListener('click', overlayClose);\n  };\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n    setEventListeners();\n  };\n  const handleDeleteCardClick = (card) => {\n    setVerificationPopupOpen(true);\n    setSelectedCard(card);\n    setEventListeners();\n  };\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n    setEventListeners();\n  };\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n    setEventListeners();\n  };\n  const handleCardClick = (card) => {\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n    setEventListeners();\n  };\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setVerificationPopupOpen(false);\n    setImagePopupOpen(false);\n    setInfoTooltipOpen(false);\n    // setSelectedCard(null);\n    document.removeEventListener('keydown', handleEsc);\n    document.removeEventListener('click', overlayClose);\n  };\n  const exit = () => {\n    setLoggedIn(false);\n  };\n\n  const handleLogin = (password, email) => {\n    author\n      .login(password, email)\n      .then((res) => {\n        localStorage.setItem('jwt', res.token);\n        author\n          .getToken(res.token)\n          .then((res) => {\n            setLoggedIn(true);\n            setEmail(res.email);\n            history.push('/');\n          })\n          .catch((err) => {\n            if (err === 401) {\n              console.log('Переданный токен некорректен');\n            } else {\n              console.log(`Ошибка: ${err}`);\n            }\n            setIconPopup(false);\n            setInfoTooltipOpen(true);\n            setEventListeners();\n          });\n      })\n      .catch((err) => {\n        if (err === 400) {\n          return console.log('Не передано одно из полей');\n        }\n        if (err === 401) {\n          return console.log('Пользователь с email не найден');\n        } else {\n          return console.log(`Ошибка: ${err}`);\n        }\n      });\n  };\n  const handleRegister = (password, email) => {\n    author\n      .register(password, email)\n      .then(() => {\n        setIconPopup(true);\n        setInfoTooltipOpen(true);\n        setEventListeners();\n        history.push('/sign-in');\n      })\n      .catch((err) => {\n        if (err === 400) {\n          setIconPopup(false);\n          setInfoTooltipOpen(true);\n          setEventListeners();\n          return console.log('Некорректно заполнено одно из полей');\n        } else {\n          //если статус ошибки не 400\n          setIconPopup(false);\n          setInfoTooltipOpen(true);\n          setEventListeners();\n          return console.log(`Ошибка: ${err}`);\n        }\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={email} login={loggedIn} exit={exit} />\n        <Switch>\n          <Route path={ROUTES_MAP.SIGN_UP}>\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path={ROUTES_MAP.SIGN_IN}>\n            <Login onLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute\n            exact\n            path={ROUTES_MAP.MAIN}\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n          />\n          {/* <Route exact path={ROUTES_MAP.NOT_FOUND}>\n            <NotFound login={loggedIn} />\n          </Route> */}\n          <Route path=\"*\">\n            {loggedIn ? (\n              <Redirect to={ROUTES_MAP.MAIN} />\n            ) : (\n              <Redirect to={ROUTES_MAP.SIGN_IN} />\n            )}\n          </Route>\n        </Switch>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <VerificationPopup\n          isOpen={isVerificationPopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n          card={selectedCard}\n        />\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          loged={iconPopup}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./pages/index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}